# rececss

Minimalistic, fully customizable CSS utilities generator

![License](https://img.shields.io/npm/l/rececss)
![NPM Version](https://img.shields.io/npm/v/rececss)

## Usage

Create a `rececss.config.js` file at the root of your project:

```javascript
module.exports = {
  output: {
    path: "./path/to/css",
  },
  rules: {
    width: {
      named: { full: "100%", half: "50%" },
      units: { px: [[0, 50, 10], 100, 500] }, // supports ranges in a [start, stop, step] form
    },
    color: { dark: "#000", light: "#fff" },
    ...
  },
}
```

And simply run:

```console
$ npx rececss
```

The generated CSS assets will be placed at `./path/to/css/rececss.css` and contain the following rulesets:

```css
.w_full { width: 100%; } .miw_full { min-width: 100%; } .maw_full { max-width: 100%; }
.w_half { width: 50%; }  .miw_half { min-width: 50%; }  .maw_half { max-width: 50%; }

.w_0   { width: 0px; }   .miw_0   { min-width: 0px; }   .maw_0   { max-width: 0px; }
.w_10  { width: 10px; }  .miw_10  { min-width: 10px; }  .maw_10  { max-width: 10px; }
.w_20  { width: 20px; }  .miw_20  { min-width: 20px; }  .maw_20  { max-width: 20px; }
.w_30  { width: 30px; }  .miw_30  { min-width: 30px; }  .maw_30  { max-width: 30px; }
.w_40  { width: 40px; }  .miw_40  { min-width: 40px; }  .maw_40  { max-width: 40px; }
.w_50  { width: 50px; }  .miw_50  { min-width: 50px; }  .maw_50  { max-width: 50px; }
.w_100 { width: 100px; } .miw_100 { min-width: 100px; } .maw_100 { max-width: 100px; }
.w_500 { width: 500px; } .miw_500 { min-width: 500px; } .maw_500 { max-width: 500px; }

.c_dark  { color: #000; }
.c_light { color: #fff; }

// ... 

```

## Motivation || "Why not tailwind?"
1. Dependency free. Can be used without PostCSS.
2. Autogenerated unit values. Range syntax support.
3. Ability to split output files by media queries.
3. More control over state utilities (:hover, :active, js states). 
4. Rich classnames customization that default to [Emmet abbreviations](https://docs.emmet.io/cheat-sheet).

## Customization

### Output
Specifies the output settings of the result CSS assets.
- **`path`** (string) - All of the generated assets will be placed into this directory. Defaults to `.`.
- **`filename`** (string) - Common filename which will be given to all of the generated assets. Defaults to `rececss`.
- **`extension`** ("css" | "scss") - Extension of the generated assets. Defaults to `css`.
- **`splitByMedia`** (boolean) - Weather split generated assets for each media or keep it in a single file. Defaults to `false`


For example, using the following `rececss.config.js` 

```javascript
module.exports = {
  output: {
    path: "path/to/css",
    filename: "utils",
    extension: "css",
    splitByMedia: true,
  },
  media: {
    prnt: "print",
    scr: "screen"
  },
  ...
}
```

will result in:

```console
├── path
│   └── to
│       └── css
│           ├── utils.css
│           ├── utils.prnt.css
│           └── utils.scr.css
└── rececss.config.js
```

### Media
Sets up the map of media queries to be used in generated assets where keys are used as prefixes for classnames. For example the config below:

```javascript
module.exports = {
  output: {
    splitByMedia: true,
  },
  sep: {
    media: "-",
  },
  media: {
    md: "only screen and (min-width: 768px)",
    lg: "only screen and (min-width: 1024px)"
  },
  rules: {
    color: { dark: "#000" },
  }
  ...
}
```

will generate assets with the following rulesets: 

```css rececss
/* rececss.css */
.c_dark { color: #000; }
...
```

```css
/* rececss.md.css */
@media only screen and (min-width: 768px) {
  .md-c_dark { color: #000; }
  ...
}
```

```css
/* rececss.lg.css */
@media only screen and (min-width: 1024px) {
  .lg-c_dark { color: #000; }
  ...
}
```

### States (:hover, :focus, :active, etc.)
Here is the place where you can define pseudo-class or javasript driven utility states that would be applied to *all* of the generated rulesets.

```javascript
module.exports = {
  ...
  sep: {
    state: "-"
  },
  states: {
    hov: "$0:hover",
    hovParent: ":hover > $0",
    js: "$0.js-active",
  },
  rules: {
    margin: { shorthand: { "0a": "0 auto" }},
    color: { dark: "#000", light: "#fff" },
  },
}
```
In the above config `$0` in `states` represents a classname that would be inserted after processing. Keys should be used as suffixes for this classnames. Check out the result: 

```css
.m_0a,
.m_0a-hov:hover,
*:hover > .m_0a-hovParent,
.m_0a-js.js-active {
  margin: 0 auto;
}
.c_dark,
.c_dark-hov:hover,
*:hover > .c_dark-hovParent,
.c_dark-js.js-active {
  color: #000;
}
.c_light,
.c_light-hov:hover,
*:hover > .c_light-hovParent,
.c_light-js.js-active {
  color: #fff;
}

```

### Rules
Most of the rules follows minimal conventions for generating values:

**Named values.** <br>
An object where keys are being used as classname value identifiers and values inserted into CSS declaration.
```javascript
rule: { 
  named: { full: "100%", half: "50%" } 
}
```

**Unit values.** <br>
An object with CSS units (`px`, `em`, `rem`, `vh`, `vw`, `ch`, `pt`, `%`) as keys and values as an array of numbers or ranges where ranges is a number array in a `[start, stop, step]` form.
```javascript
rule: { 
  units: { 
    px: [33, [0, 50, 5], [100, 1000, 100]], // => 33px, 0px, 5px, 10px, ... 50px, 100px, ... 1000px
    "%": [[0, 100, 10]] // => 0%, 10%, 15%, ... 100%
  }
}
```

**Unitless values.** <br>
An array of numbers or ranges used for unitless ruleset property values (`line-height`, `flex`, etc.)
```javascript
rule: { 
  values: [1.5, [1, 10, 1]], // => 1.5, 1, 2, 3, ... 10
}
```

#### Width
Gets customized through `named` and `units`:
```javascript
module.exports = {
  // ...
  rules: {
    width: {
      named: { full: "100%", half: "50%" },
      units: { px: [[0, 50, 5], [100, 1000, 100]], "%": [[0, 100, 10]] },
    },
  }
}
```

With classname defaults:
```javascript
{
  widthAuto: "w_a",
  width: "w_$0",
  minWidth: "miw_$0",
  maxWidth: "maw_$0",
}
```

Outputs:
```css
.w_a { width: auto; }
.w_full { width: 100%; } .miw_full { min-width: 100%; } .maw_full { max-width: 100%; }
.w_half { width: 50%; }  .miw_half { min-width: 50%; }  .maw_half { max-width: 50%; }
.w_0  { width: 0px; }  .miw_0  { min-width: 0px; }  .maw_0  { max-width: 0px; }
.w_5  { width: 5px; }  .miw_5  { min-width: 5px; }  .maw_5  { max-width: 5px; }
.w_10 { width: 10px; } .miw_10 { min-width: 10px; } .maw_10 { max-width: 10px; }
...
.w_50  { width: 50px; } .miw_50 { min-width: 50px; } .maw_50 { max-width: 50px; }
.w_100 { width: 100px; } .miw_100 { min-width: 100px; } .maw_100 { max-width: 100px; }
.w_200 { width: 200px; } .miw_200 { min-width: 200px; } .maw_200 { max-width: 200px; }
...
.w_1000 { width: 1000px; } .miw_1000 { min-width: 1000px; } .maw_1000 { max-width: 1000px; }
.w_0\%  { width: 0%; }  .miw_0\%  { min-width: 0%; }  .maw_0\%  { max-width: 0%; }
.w_10\% { width: 10%; } .miw_10\% { min-width: 10%; } .maw_10\% { max-width: 10%; }
.w_20\% { width: 20%; } .miw_20\% { min-width: 20%; } .maw_20\% { max-width: 20%; }
...
.w_100\% { width: 100%; } .miw_100\% { min-width: 100%; } .maw_100\% { max-width: 100%; }
```

#### Height
Gets customized through `named` and `units`:
```javascript
module.exports = {
  // ...
  rules: {
    height: {
      named: { full: "100%" },
      units: { px: [300, 50], vh: [[0, 100, 10]] },
    }
  }
}
```

With classname defaults:
```javascript
{
  heightAuto: "h_a",
  height: "h_$0",
  minHeight: "mih_$0",
  maxHeight: "mah_$0",
}
```

Outputs:
```css
.h_a { height: auto; }
.h_full { height: 100%; }  .mih_full { min-height: 100%; }  .mah_full { max-height: 100%; }
.h_50   { height: 50px; }  .mih_50   { min-height: 50px; }  .mah_50   { max-height: 50px; }
.h_300  { height: 300px; } .mih_300  { min-height: 300px; } .mah_300  { max-height: 300px; }
.h_0vh  { height: 0vh; }   .mih_0vh  { min-height: 0vh; }   .mah_0vh  { max-height: 0vh; }
.h_10vh { height: 10vh; }  .mih_10vh { min-height: 10vh; }  .mah_10vh { max-height: 10vh; }
...
.h_100vh { height: 100vh; } .mih_100vh { min-height: 100vh; } .mah_100vh { max-height: 100vh; }
```

#### Margin
Gets customized through `shorthand`(`named` values) and `edges`(`named` + `units` values):
```javascript
module.exports = {
  // ...
  rules: {
    margin: {
      shorthand: { a: "auto", "0a": "0 auto" },
      edges: {
        named: { sm: "10px", md: "15px", lg: "30px" },
        units: { px: [[0, 50, 5]] },
      },
    }
  }
}
```

Property `shorthand` utilizes `margin` shorthand property with default classname `m_$0` and outputs: 
```css
.m_a { margin: auto; }
.m_0a { margin: 0 auto; }
```

Property `edges` utilizes classnames below: 
```javascript
{
  margin: "m_$0",
  marginTop: "mt_$0",
  marginBottom: "mb_$0",
  marginVertical: "mver_$0",
  marginLeft: "ml_$0",
  marginRight: "mr_$0",
  marginHorizontal: "mhor_$0",
}
```
And outputs:
```css
.m_sm { margin: 10px; } .mt_sm { margin-top: 10px; } .mb_sm { margin-bottom: 10px; } .mver_sm { margin-top: 10px; margin-bottom: 10px; } .ml_sm { margin-left: 10px; } .mr_sm { margin-right: 10px; } .mhor_sm { margin-left: 10px; margin-right: 10px; }
.m_md { margin: 15px; } .mt_md { margin-top: 15px; } .mb_md { margin-bottom: 15px; } .mver_md { margin-top: 15px; margin-bottom: 15px; } .ml_md { margin-left: 15px; } .mr_md { margin-right: 15px; } .mhor_md { margin-left: 15px; margin-right: 15px; }
.m_lg { margin: 30px; } .mt_lg { margin-top: 30px; } .mb_lg { margin-bottom: 30px; } .mver_lg { margin-top: 30px; margin-bottom: 30px; } .ml_lg { margin-left: 30px; } .mr_lg { margin-right: 30px; } .mhor_lg { margin-left: 30px; margin-right: 30px; }
.m_0 { margin: 0px; } .mt_0 { margin-top: 0px; } .mb_0 { margin-bottom: 0px; } .mver_0 { margin-top: 0px; margin-bottom: 0px; } .ml_0 { margin-left: 0px; } .mr_0 { margin-right: 0px; } .mhor_0 { margin-left: 0px; margin-right: 0px; }
.m_5 { margin: 5px; } .mt_5 { margin-top: 5px; } .mb_5 { margin-bottom: 5px; } .mver_5 { margin-top: 5px; margin-bottom: 5px; } .ml_5 { margin-left: 5px; } .mr_5 { margin-right: 5px; } .mhor_5 { margin-left: 5px; margin-right: 5px; }
...
.m_50 { margin: 50px; } .mt_50 { margin-top: 50px; } .mb_50 { margin-bottom: 50px; } .mver_50 { margin-top: 50px; margin-bottom: 50px; } .ml_50 { margin-left: 50px; } .mr_50 { margin-right: 50px; } .mhor_50 { margin-left: 50px; margin-right: 50px; }
```



#### Padding
Same as `margin`:
```javascript
module.exports = {
  // ...
  rules: {
    padding: {
      shorthand: { a: "auto", card: "20px 10px 40px" },
      edges: {
        named: { sm: "10px", md: "15px" },
        units: { em: [[1, 3, 0.5]] },
      },
    }
  }
}
```

Utilizes classnames below:
```javascript
{
  padding: "p_$0",
  paddingTop: "pt_$0",
  paddingBottom: "pb_$0",
  paddingVertical: "pver_$0",
  paddingLeft: "pl_$0",
  paddingRight: "pr_$0",
  paddingHorizontal: "phor_$0",
}
```

Outputs: 
```css
.p_a { padding: auto; }
.p_card { padding: 20px 10px 40px; }
.p_sm { padding: 10px; } .pt_sm { padding-top: 10px; } .pb_sm { padding-bottom: 10px; } .pver_sm { padding-top: 10px; padding-bottom: 10px; } .pl_sm { padding-left: 10px; } .pr_sm { padding-right: 10px; } .phor_sm { padding-left: 10px; padding-right: 10px; }
.p_md { padding: 15px; } .pt_md { padding-top: 15px; } .pb_md { padding-bottom: 15px; } .pver_md { padding-top: 15px; padding-bottom: 15px; } .pl_md { padding-left: 15px; } .pr_md { padding-right: 15px; } .phor_md { padding-left: 15px; padding-right: 15px; }
.p_1em { padding: 1em; } .pt_1em { padding-top: 1em; } .pb_1em { padding-bottom: 1em; } .pver_1em { padding-top: 1em; padding-bottom: 1em; } .pl_1em { padding-left: 1em; } .pr_1em { padding-right: 1em; } .phor_1em { padding-left: 1em; padding-right: 1em; }
.p_1\.5em { padding: 1.5em; } .pt_1\.5em { padding-top: 1.5em; } .pb_1\.5em { padding-bottom: 1.5em; } .pver_1\.5em { padding-top: 1.5em; padding-bottom: 1.5em; } .pl_1\.5em { padding-left: 1.5em; } .pr_1\.5em { padding-right: 1.5em; } .phor_1\.5em { padding-left: 1.5em; padding-right: 1.5em; }
...
.p_3em { padding: 3em; } .pt_3em { padding-top: 3em; } .pb_3em { padding-bottom: 3em; } .pver_3em { padding-top: 3em; padding-bottom: 3em; } .pl_3em { padding-left: 3em; } .pr_3em { padding-right: 3em; } .phor_3em { padding-left: 3em; padding-right: 3em; }

```

#### Offset (top, right, bottom, left)
```javascript
module.exports = {
  // ...
  rules: {
    offset: {
      named: { sm: "10px", md: "15px" },
      units: { px: [[0, 100, 5]] },
    },
  }
}
```

With classname defaults:
```javascript
{
  top: "t_$0",
  bottom: "b_$0",
  left: "l_$0",
  right: "r_$0",
}
```

Outputs:
```css
.t_sm { top: 10px; } .b_sm { bottom: 10px; } .l_sm { left: 10px; } .r_sm { right: 10px; }
.t_md { top: 15px; } .b_md { bottom: 15px; } .l_md { left: 15px; } .r_md { right: 15px; }
.t_0 { top: 0px; } .b_0 { bottom: 0px; } .l_0 { left: 0px; } .r_0 { right: 0px; }
.t_5 { top: 5px; } .b_5 { bottom: 5px; } .l_5 { left: 5px; } .r_5 { right: 5px; }
.t_10 { top: 10px; } .b_10 { bottom: 10px; } .l_10 { left: 10px; } .r_10 { right: 10px; }
...
.t_100 { top: 100px; } .b_100 { bottom: 100px; } .l_100 { left: 100px; } .r_100 { right: 100px; }
```

#### Flex
```javascript
module.exports = {
  // ...
  rules: {
    flex: {
      shorthand: {
        named: { "00a": "0 0 auto", norm: "1" },
        values: [[1, 10, 1]],
      },
      basis: {
        named: { xs: "8px", sm: "12px", md: "16px" },
        units: { px: [[8, 16, 2]], "%": [[0, 100, 20]] },
      },
      grow: {
        named: {},
        values: [1, 2, 4],
      },
      shrink: {
        named: {},
        values: [1, 3],
      },
      order: {
        named: {},
        values: [1, -1],
      },
      grid: {
        cols: 12,
        gutter: "20px",
        gutters: { sm: "10px", lg: "40px"}
      },
    },
  }
}
```

#### Font
```javascript
module.exports = {
  // ...
  rules: {
    font: {
      shorthand: {
        primary: "italic bold .8em/1.2 Arial, sans-serif",
      },
      size: {
        named: { xs: "8px", sm: "12px", md: "16px" },
        units: { px: [[8, 16, 2]] },
      },
      family: {
        primary: "Arial, serif",
        secondary: "Helvetica, sans-serif",
      },
    }
  }
}
```

#### Border
```javascript
module.exports = {
  // ...
  rules: {
    border: {
      shorthand: {
        thin: "1px solid black",
        bold: "5px solid black"
      },
      radius: {
        named: { circle: "50%" },
        units: { px: [5, 10] },
      },
    },
  }
}
```

#### Colors
```javascript
module.exports = {
  // ...
  rules: {
    
  }
}
```

### Classnames
Allows to overwrite any of the utility classnames:

```javascript
module.exports = {
  classnames: {
    font: "font_$0",
    displayNone: "hidden",
    opacity0: "invisible"
  },
  ...
}
```

List of all available classnames can found [here](https://github.com/re-ce/rececss/blob/master/src/3_adapters/RulesetsBuilder/RulesetsBuilder.classnames.ts)

